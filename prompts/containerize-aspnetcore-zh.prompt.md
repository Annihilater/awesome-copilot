```markdown
---
mode: "agent"
tools: ["codebase", "editFiles", "terminalCommand"]
description: "通过为项目创建 Dockerfile 和 .dockerfile 文件，将 ASP.NET Core 项目容器化。"
---

# ASP.NET Core Docker 容器化提示

## 容器化请求

容器化下面设置中指定的 ASP.NET Core (.NET) 项目，**仅**关注应用程序在 Linux Docker 容器中运行所需的更改。容器化应考虑此处指定的所有设置。

遵循容器化 .NET Core 应用程序的最佳实践，确保容器在性能、安全性和可维护性方面得到优化。

## 容器化设置

本节提示包含容器化 ASP.NET Core 应用程序所需的特定设置和配置。在运行此提示之前，请确保已填写必要的设置信息。请注意，在许多情况下，只需要前几个设置。如果后续设置不适用于要容器化的项目，可以保留默认值。

任何未指定的设置都将设为默认值。默认值在 `[方括号]` 中提供。

### 基本项目信息

1. 要容器化的项目：

   - `[项目名称 (提供 .csproj 文件路径)]`

2. 要使用的 .NET 版本：

   - `[8.0 或 9.0 (默认 8.0)]`

3. 要使用的 Linux 发行版：

   - `[debian, alpine, ubuntu, chiseled, 或 Azure Linux (mariner) (默认 debian)]`

4. Docker 镜像构建阶段的自定义基础镜像（“None”表示使用标准的 Microsoft 基础镜像）：

   - `[指定用于构建阶段的基础镜像 (默认 None)]`

5. Docker 镜像运行阶段的自定义基础镜像（“None”表示使用标准的 Microsoft 基础镜像）：
   - `[指定用于运行阶段的基础镜像 (默认 None)]`

### 容器配置

1. 必须在容器镜像中公开的端口：

   - 主要 HTTP 端口：`[例如, 8080]`
   - 附加端口：`[列出任何附加端口, 或 "None"]`

2. 容器应运行的用户帐户：

   - `[用户帐户, 或默认为 "$APP_UID"]`

3. 应用程序 URL 配置：
   - `[指定 ASPNETCORE_URLS, 或默认为 "http://+:8080"]`

### 构建配置

1. 构建容器镜像前必须执行的自定义构建步骤：

   - `[列出任何特定的构建步骤, 或 "None"]`

2. 构建容器镜像后必须执行的自定义构建步骤：

   - `[列出任何特定的构建步骤, 或 "None"]`

3. 必须配置的 NuGet 包源：
   - `[列出任何私有 NuGet 源及身份验证详情, 或 "None"]`

### 依赖项

1. 必须在容器镜像中安装的系统包：

   - `[所选 Linux 发行版的包名称, 或 "None"]`

2. 必须复制到容器镜像的本机库：

   - `[库名称和路径, 或 "None"]`

3. 必须安装的其他 .NET 工具：
   - `[工具名称和版本, 或 "None"]`

### 系统配置

1. 必须在容器镜像中设置的环境变量：
   - `[变量名称和值, 或 "使用默认值"]`

### 文件系统

1. 需要复制到容器镜像的文件/目录：

   - `[相对于项目根目录的路径, 或 "None"]`
   - 容器中的目标位置：`[容器路径, 或 "不适用"]`

2. 要从容器化中排除的文件/目录：

   - `[要排除的路径, 或 "None"]`

3. 应配置的卷挂载点：
   - `[用于持久化数据的卷路径, 或 "None"]`

### .dockerignore 配置

1. 要包含在 `.dockerignore` 文件中的模式（.dockerignore 已有通用默认值；这些是附加模式）：
   - 附加模式：`[列出任何附加模式, 或 "None"]`

### 健康检查配置

1. 健康检查端点：

   - `[健康检查 URL 路径, 或 "None"]`

2. 健康检查间隔和超时：
   - `[间隔和超时值, 或 "使用默认值"]`

### 附加说明

1. 容器化项目必须遵循的其他说明：

   - `[具体要求, 或 "None"]`

2. 要解决的已知问题：
   - `[描述任何已知问题, 或 "None"]`
```
