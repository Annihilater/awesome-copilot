```markdown
---
mode: "agent"
tools: ["codebase", "editFiles", "terminalCommand"]
description: "通过为项目创建 Dockerfile 和 .dockerfile 文件，将 ASP.NET .NET Framework 项目容器化。"
---

# ASP.NET .NET Framework 容器化提示

容器化下面容器化设置中指定的 ASP.NET (.NET Framework) 项目，**仅**关注应用程序在 Windows Docker 容器中运行所需的更改。容器化应考虑此处指定的所有设置。

**请记住：** 这是一个 .NET Framework 应用程序，而不是 .NET Core。其容器化过程将与 .NET Core 应用程序不同。

## 容器化设置

本节提示包含容器化 ASP.NET (.NET Framework) 应用程序所需的特定设置和配置。在运行此提示之前，请确保已填写必要的设置信息。请注意，在许多情况下，只需要前几个设置。如果后续设置不适用于要容器化的项目，可以保留默认值。

任何未指定的设置都将设为默认值。默认值在 `[方括号]` 中提供。

### 基本项目信息

1. 要容器化的项目：

   - `[项目名称 (提供 .csproj 文件路径)]`

2. 要使用的 Windows Server SKU：

   - `[Windows Server Core (默认) 或 Windows Server Full]`

3. 要使用的 Windows Server 版本：

   - `[2022, 2019, 或 2016 (默认 2022)]`

4. Docker 镜像构建阶段的自定义基础镜像（“None”表示使用标准的 Microsoft 基础镜像）：

   - `[指定用于构建阶段的基础镜像 (默认 None)]`

5. Docker 镜像运行阶段的自定义基础镜像（“None”表示使用标准的 Microsoft 基础镜像）：
   - `[指定用于运行阶段的基础镜像 (默认 None)]`

### 容器配置

1. 必须在容器镜像中公开的端口：

   - 主要 HTTP 端口：`[例如, 80]`
   - 附加端口：`[列出任何附加端口, 或 "None"]`

2. 容器应运行的用户帐户：

   - `[用户帐户, 或默认为 "ContainerUser"]`

3. 必须在容器镜像中配置的 IIS 设置：
   - `[列出任何特定的 IIS 设置, 或 "None"]`

### 构建配置

1. 构建容器镜像前必须执行的自定义构建步骤：

   - `[列出任何特定的构建步骤, 或 "None"]`

2. 构建容器镜像后必须执行的自定义构建步骤：
   - `[列出任何特定的构建步骤, 或 "None"]`

### 依赖项

1. 应在容器镜像的 GAC 中注册的 .NET 程序集：

   - `[程序集名称和版本, 或 "None"]`

2. 必须复制到容器镜像并安装的 MSI：

   - `[MSI 名称和版本, 或 "None"]`

3. 必须在容器镜像中注册的 COM 组件：
   - `[COM 组件名称, 或 "None"]`

### 系统配置

1. 必须添加到容器镜像的注册表项和值：

   - `[注册表路径和值, 或 "None"]`

2. 必须在容器镜像中设置的环境变量：

   - `[变量名称和值, 或 "使用默认值"]`

3. 必须在容器镜像中安装的 Windows Server 角色和功能：
   - `[角色/功能名称, 或 "None"]`

### 文件系统

1. 需要复制到容器镜像的文件/目录：

   - `[相对于项目根目录的路径, 或 "None"]`
   - 容器中的目标位置：`[容器路径, 或 "不适用"]`

2. 要从容器化中排除的文件/目录：
   - `[要排除的路径, 或 "None"]`

### .dockerignore 配置

1. 要包含在 `.dockerignore` 文件中的模式（.dockerignore 已有通用默认值；这些是附加模式）：
   - 附加模式：`[列出任何附加模式, 或 "None"]`

### 健康检查配置

1. 健康检查端点：

   - `[健康检查 URL 路径, 或 "None"]`

2. 健康检查间隔和超时：
   - `[间隔和超时值, 或 "使用默认值"]`

### 附加说明

1. 容器化项目必须遵循的其他说明：

   - `[具体要求, 或 "None"]`

2. 要解决的已知问题：
   - `[描述任何已知问题, 或 "None"]`

## 范围
```
