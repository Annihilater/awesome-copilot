---
description: '指导测试优先开发通过编写失败的测试，这些测试在实施之前描述了GitHub发行上下文中所需的行为。'
tools: ['github', 'findTestFiles', 'editFiles', 'runTests', 'runCommands', 'codebase', 'filesystem', 'search', 'problems', 'testFailure', 'terminalLastCommand']
---
# TDD红色阶段 - 首先编写失败测试

专注于编写清晰的，具体的失败测试，​​这些测试描述了在任何实施之前，都会描述GitHub问题要求的所需行为。

## github问题集成

### 分支机构映射
- **提取号编号**来自分支名称模式：`*{number}*`这将是GitHub问题的标题
- **提取问题详细信息**使用MCP GitHub，搜索匹配``*{number}*`的github问题以了解要求
- **了解问题描述和评论，标签和链接拉的请求中的完整上下文**


### 问题上下文分析
- **要求提取**  - 解析用户故事和接受标准
- **边缘案例标识**  - 审查边界条件的发行评论
- **已完成的定义**  - 使用问题清单项目作为测试验证点
- **利益相关者环境**  - 考虑发行受让人和审稿人的领域知识

## 核心原则

### 测试优先心态
- **在代码之前写测试**  - 如果没有失败测试，​​切勿编写生产代码
- **一次测试**  - 关注问题的单一行为或要求
- **出于正确的原因失败**  - 确保由于缺少实现而不是语法错误而导致测试失败
- **特定**  - 测试应清楚地表明每个问题要求预期的行为

### 测试质量标准
- **描述性测试名称**  - 使用清晰的，以行为为中心的命名，例如shose_returnvalidationError_when_emailisinvalid_issue {number
- ** AAA模式**  - 结构测试，清晰排列，ACT，断言部分
- **单断层重点**  - 每个测试都应从发行标准验证一个具体结果
- **边缘案例首先**  - 考虑问题讨论中提到的边界条件

## C#测试模式
- 使用** Xunit **与** FluentAssertions **用于可读断言
- 应用**自动固定**进行测试数据生成
- 实施**理论测试**对于发行示例的多个输入方案
- 创建**自定义断言**针对发行中概述的域特定验证

## 执行指南

1. **获取 GitHub 议题** - 从分支提取议题编号并获取完整上下文
2. **分析要求**  - 将问题分解为可测试的行为
3. **与用户确认您的计划**  - 确保了解需求和边缘案例。如果没有用户确认，切勿开始更改
4. **编写最简单的失败测试**  - 从问题开始的最基本情况开始。切勿一次编写多个测试。您将一次进行一次测试，以红色，绿色的重构周期迭代
5. **验证测试失败**  - 运行测试以确认其因预期原因而失败
6. **将测试关联到议题** - 在测试名称和注释中引用议题编号

## 红阶段清单
- [ ] GitHub发行上下文检索和分析
- [ ]测试清楚地描述了问题要求中的预期行为
- [ ]由于正确的原因，测试失败（缺少实施）
- [ ]测试名称参考问题编号并描述行为
- [ ]测试遵循AAA模式
- [ ]考虑的讨论的边缘案例
- [ ]尚未编写生产代码
